@model ModuloMantenimientosLibrary.ModuloMantenimientosMantenimientoNuevoViewModel

@{
    Layout = "~/Views/Shared/Modulo-Mantenimientos/_Modulo-Mantenimiento.cshtml";
    ViewData["Title"] = "Nuevo mantenimiento";
    ViewData["Message"] = "Modulo de Mantenimientos - Gaolos App v2017";
}

<div class="main-content m-0">

    <div class="container-fluid">
        <div class="row">
            <div class="col-12 header-section">
                <h2>@ViewData["Title"]</h2>
                @Html.Raw(ViewData["Migas"])
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">

                @if(Model.Model.Err.eserror)
    {
        ViewData["err"] = Model.Model.Err.mensaje;
                @Html.Partial("AccesoDenegado");
    }
    else
    {

                @* Buscar usuarios *@

                <div class="row">

                    <div class="col-8">
                        @* Listado de mantenimientos *@
                        <div class="card card-table mb-3">
                            <div class="card-header card-header-options">
                                <span>@ViewData["Title"]</span>
                            </div>
                            <div class="card-block">
                                <div class="p-3">
                                    <div class="input-group input-group-sm mr-2">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Cliente</span>
                                        </div>
                                        <input type="text" class="form-control ui-autocomplete-input" placeholder="Cliente" id="Cliente" autocomplete="off">
                                        <input type="hidden" id="vCliente" value=""><input type="hidden" id="tCliente" value="">
                                    </div>
                                </div>
                                <div style="display:none;" id="content">

                                    <div class="pb-3 px-3">
                                        <h5 class="mb-3 fs-1-1"> Facturación</h5>

                                        <div class="d-flex mb-2">

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Ref. Cliente</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Ref. Cliente" id="RefCli" autocomplete="off">
                                            </div>

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Renovación</span>
                                                </div>

                                                <select class="custom-select" id="PeriFac">
                                                </select>
                                            </div>

                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Periocidad</span>
                                                </div>

                                                <select class="custom-select" id="PeriVis">
                                                </select>
                                            </div>

                                        </div>


                                        <div class="d-flex mb-2">

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Fecha inicio</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Fecha inicio" id="Fe_In" value="">
                                            </div>

                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Fecha fin (Opcional)</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Fecha fin" id="Fe_Fi" value="">
                                            </div>

                                        </div>

                                        <div class="d-flex mb-2">

                                            <div class="d-flex justify-content-center align-items-center mr-2">
                                                <span class="mr-2 fw-5">Autofacturar</span> <input type="checkbox" class="sel-check" id="AutoFac">
                                            </div>

                                            <div class="input-group input-group-sm mb-0 mr-3">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">A x días</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="A x días" id="AxDias" value="">
                                            </div>

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Día 1</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Día 1" id="Dia1" value="">
                                            </div>

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Día 2</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Día 2" id="Dia2" value="">
                                            </div>

                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Forma</span>
                                                </div>

                                                <select class="custom-select" id="ID_For">
                                                </select>
                                            </div>

                                        </div>

                                        <div class="d-flex mb-2">

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Cuenta cliente</span>
                                                </div>

                                                <select class="custom-select" id="ID_Cue">
                                                </select>
                                            </div>

                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Cuenta negocio</span>
                                                </div>

                                                <select class="custom-select" id="ID_CueNeg">
                                                </select>
                                            </div>

                                        </div>

                                        <h5 class="mt-3 mb-3 fs-1-1"> Observaciones</h5>

                                        <div class="d-flex mb-2">
                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Observaciones públicas</span>
                                                </div>
                                                <textarea class="form-control" aria-label="With textarea" placeholder="Observaciones públicas" id="ObsPub"></textarea>
                                                <input type="hidden" id="" value="">
                                            </div>
                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Observaciones privadas</span>
                                                </div>
                                                <textarea class="form-control" aria-label="With textarea" placeholder="Observaciones privadas" id="ObsPriv"></textarea>
                                                <input type="hidden" id="" value="">
                                            </div>
                                        </div>

                                        <h5 class="mt-3 mb-3 fs-1-1"> Ubicación</h5>

                                        <div class="d-flex mb-2">
                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Dirección</span>
                                                </div>

                                                <select class="custom-select mantenimiento-nuevo-direccion" id="ID_Dir">
                                                </select>
                                            </div>
                                        </div>

                                        <div class="d-flex mb-2">

                                            <div class="input-group input-group-sm">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Empresa</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Empresa" id="Emp">
                                            </div>

                                        </div>

                                        <div class="d-flex mb-2">

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Horario</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Horario" id="Horario" value="">
                                            </div>

                                            <div class="input-group input-group-sm mb-0 mr-2">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Contacto</span>
                                                </div>
                                                <input type="text" class="form-control" placeholder="Contacto" id="Contacto" value="">
                                            </div>

                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text input-group-text-auto">Teléfono</span>
                                                </div>
                                                <input type="text" class="form-control" id="TelCli" value="" placeholder="Teléfono" list="Tels" maxlength="15">
                                                <datalist id="Tels" />
                                            </div>

                                        </div>

                                        <div class="d-flex mb-3">

                                            <div class="input-group input-group-sm mb-0">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">Observaciones</span>
                                                </div>
                                                <textarea class="form-control" aria-label="With textarea" placeholder="Observaciones" id="UbiObs"></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="d-flex justify-content-center box-border-top p-2 mdc-bg-blue-grey-50">
                                        <button type="button" class="btn btn-sm btn-primary mantenimiento-nuevo">Guardar</button>
                                    </div>

                                </div>

                            </div>
                        </div>

                    </div>

                    @*<div class="col-4" id="sindatos">*@
                    <div class="col-4">

                        @* Sin datos *@
                        <div class="card card-table mb-3" id="sindatos">
                            <div class="card-header card-header-options">
                                <span>Información</span>
                                <div class="card-actions">
                                    <ul>
                                        <li><a href="#" class="handle"><i class="fa fa-bars"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-block" role="tablist" aria-multiselectable="true">
                                <div class="text-center mt-4 mb-4 p-5 bloque-sin-informacion">
                                    <img src="~/flaticons/chat.svg" style="width: 25%;">
                                    <p class="pt-4 fw-5">Debe indicar un cliente para poder realizar un nuevo mantenimiento</p>
                                </div>
                            </div>
                        </div>

                        <div class="card card-table mb-3" id="infoman" style="display:none;">
                            <div class="card-header card-header-options">
                                <span>Mantenimientos</span>
                                <div class="card-actions">
                                    <ul>
                                        <li><a href="#" class="handle"><i class="fa fa-bars"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-block" role="tablist" aria-multiselectable="true">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Mantenimiento</th>
                                        </tr>
                                    </thead>
                                    <tbody id="contenido_man">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                </div>



}
            </div>
        </div>
    </div>
</div>


